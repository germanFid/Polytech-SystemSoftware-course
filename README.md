## 1. Get Started: Установка Linux и подключение к виртуальной машине

**Цель:** Успешно установить дистрибутив Linux и настроить подключение к виртуальной машине для взаимодействия с ней.

**2. Выбрать дистрибутив Linux:**

*   Рассмотреть популярные дистрибутивы для начинающих (Ubuntu, Linux Mint, elementary OS).
*   Учесть, что Ubuntu и Linux Mint - отличные варианты для первого знакомства.

**3. Установить дистрибутив Linux:**

*   Определить способ установки: на физическую машину (Dual Boot или полная замена) или на виртуальную машину.
*   **Если установка на физическую машину:**
    1.  Скачать ISO-образ дистрибутива с официального сайта.
    2.  Создать загрузочный носитель (USB-флешку или DVD-диск) с помощью Rufus, Etcher или аналогичной программы.
    3.  Перезагрузить компьютер и войти в меню загрузки BIOS/UEFI.
    4.  Выбрать загрузку с созданного носителя.
    5.  Следовать инструкциям установщика, **особенно осторожно** при Dual Boot, чтобы не удалить существующую ОС.
*   **Если установка на виртуальную машину:**
    1.  Установить программу виртуализации (VirtualBox, VMware Workstation Player/Pro).
    2.  Создать новую виртуальную машину, указав имя, тип ОС (Linux), версию, объем оперативной памяти и дискового пространства.
    3.  В настройках виртуальной машины указать скачанный ISO-образ в качестве загрузочного диска.
    4.  Запустить виртуальную машину.
    5.  Следовать инструкциям установщика Linux.

**4. Настроить подключение к виртуальной машине:**

*   Выбрать способ подключения: через окно виртуальной машины или по SSH.
*   **Если подключение через окно виртуальной машины:** Просто открыть окно виртуальной машины в программе виртуализации.
*   **Если подключение по SSH:**
    1.  Настроить сеть в виртуальной машине (если необходимо).
    2.  Установить SSH-сервер в Linux (Ubuntu):

        ```bash
        sudo apt update
        sudo apt install openssh-server
        sudo systemctl enable ssh
        sudo systemctl start ssh
        ```

    3.  Подключиться по SSH с основной операционной системы:

        ```bash
        ssh username@ip_address
        ```

        *   *Заменить `username` на имя пользователя в Linux.*
        *   *Заменить `ip_address` на IP-адрес виртуальной машины (узнать с помощью `ip addr` в Linux).*
        *   *Установить SSH-клиент (например, PuTTY) в Windows, если необходимо.*



## Командная оболочка: Руководство по освоению

**Цель:** Научиться эффективно использовать командную оболочку Linux для навигации, исследования системы, выполнения операций с файлами и каталогами, создания команд, перенаправления ввода/вывода, использования горячих клавиш и работы с cron.

**1. Навигация:**

*   **Что сделать:** Научиться перемещаться по файловой системе.
*   **Команды:**
    *   `pwd` - Показать текущий рабочий каталог.
    *   `cd <путь>` - Перейти в указанный каталог.
        *   `cd` - Перейти в домашний каталог.
        *   `cd ..` - Перейти в родительский каталог.
        *   `cd -` - Перейти в предыдущий каталог.
        *   Использовать абсолютные и относительные пути.

**2. Исследование системы:**

*   **Что сделать:** Научиться просматривать содержимое директорий и файлов различными способами.
*   **Команды:**
    *   `ls <опции> <путь>` - Вывести список файлов и каталогов.
        *   `ls -l` - Вывести подробную информацию (права, размер, дата изменения и т.д.).
        *   `ls -a` - Показать скрытые файлы и каталоги (начинающиеся с точки).
        *   `ls -t` - Сортировать по времени изменения (последние измененные первыми).
        *   `ls -R` - Рекурсивно вывести содержимое подкаталогов.
    *   `cat <файл>` - Вывести содержимое файла на экран.
    *   `less <файл>` - Просмотреть файл постранично.
    *   `head <файл>` - Вывести первые несколько строк файла.
    *   `tail <файл>` - Вывести последние несколько строк файла.
    *   `file <файл>` - Определить тип файла.
    *   `du <опции> <путь>` - Оценить использование дискового пространства.
        *   `du -h` - Вывести размер в человекочитаемом формате.
        *   `du -s` - Вывести только суммарный размер каталога.

**3. Операции с файлами и каталогами:**

*   **Что сделать:** Научиться создавать, удалять, переименовывать, копировать и редактировать файлы и каталоги.
*   **Команды:**
    *   `mkdir <путь>` - Создать новый каталог.
        *   `mkdir -p <путь>` - Создать все необходимые родительские каталоги.
    *   `rmdir <путь>` - Удалить пустой каталог.
    *   `rm <опции> <путь>` - Удалить файлы или каталоги.
        *   `rm -i <файл>` - Запрашивать подтверждение перед удалением.
        *   `rm -r <каталог>` - Удалить каталог рекурсивно (вместе со всем содержимым!). **Осторожно!**
        *   `rm -f <файл>` - Удалить файл принудительно (без запроса подтверждения). **Осторожно!**
    *   `cp <опции> <источник> <назначение>` - Скопировать файлы или каталоги.
        *   `cp -r <каталог> <назначение>` - Скопировать каталог рекурсивно.
    *   `mv <источник> <назначение>` - Переместить или переименовать файлы или каталоги.
    *   `touch <файл>` - Создать пустой файл или изменить время последнего доступа.
    *   `nano <файл>`, `vim <файл>`, `emacs <файл>` - Открыть файл для редактирования в текстовом редакторе. (Выбрать удобный редактор).
    *   `find <путь> <опции> <действие>` - Найти файлы и каталоги, соответствующие заданным критериям.
        *   `find . -name "*.txt"` - Найти все файлы с расширением .txt в текущем каталоге и его подкаталогах.
        *   `find . -type d` - Найти все каталоги в текущем каталоге и его подкаталогах.
        *   `find . -size +1M` - Найти все файлы размером больше 1 мегабайта.
        *   `find . -mtime -7` - Найти все файлы, измененные за последние 7 дней.
        *   `find . -name "*.txt" -exec rm {} \;` - Удалить все файлы с расширением .txt (очень опасно!).

**4. Работа с командами:**

*   **Что сделать:** Научиться создавать свои команды, использовать документацию и утилиты командной строки.
*   **Команды и концепции:**
    *   `alias <имя>="команда"` - Создать псевдоним для команды.
        *   Например, `alias la="ls -la"` создаст псевдоним `la` для команды `ls -la`.
    *   Функции оболочки: создавать более сложные команды с использованием переменных и условных операторов. (Более продвинутый уровень).
    *   `man <команда>` - Открыть руководство (manual) для команды.
    *   `apropos <ключевое_слово>` - Поиск команд, связанных с ключевым словом.
    *   Использовать утилиты командной строки (например, `grep`, `sed`, `awk`, которые уже упоминались).
    *   Понимать структуру команд: `команда [опции] [аргументы]`.
    *   Различать встроенные команды оболочки и внешние исполняемые файлы.

**5. Перенаправление:**

*   **Что сделать:** Разобраться в различных способах перенаправления ввода, вывода и ошибок.
*   **Операторы:**
    *   `>` - Перенаправить стандартный вывод в файл (перезаписать содержимое).
    *   `>>` - Перенаправить стандартный вывод в файл (добавить в конец файла).
    *   `<` - Перенаправить стандартный ввод из файла.
    *   `2>` - Перенаправить стандартный вывод ошибок в файл.
    *   `&>` или `2>&1` - Перенаправить и стандартный вывод, и стандартный вывод ошибок в файл.
    *   `|` - Передать стандартный вывод одной команды на стандартный ввод другой команды (конвейер).
    *   `||` - Выполнить вторую команду только если первая завершилась с ошибкой (логическое "ИЛИ").
    *   `&&` - Выполнить вторую команду только если первая успешно завершилась (логическое "И").

**6. Особенности работы с клавиатурой:**

*   **Что сделать:** Использовать горячие клавиши для повышения эффективности работы в командной строке.
*   **Основные горячие клавиши:**
    *   `Ctrl+C` - Прервать выполняющуюся команду.
    *   `Ctrl+D` - Завершить ввод (эквивалентно нажатию Enter на пустой строке).
    *   `Ctrl+Z` - Остановить (suspend) выполняющуюся команду (можно продолжить выполнение с помощью `fg` или `bg`).
    *   `Ctrl+A` - Переместить курсор в начало строки.
    *   `Ctrl+E` - Переместить курсор в конец строки.
    *   `Ctrl+K` - Удалить текст от курсора до конца строки.
    *   `Ctrl+U` - Удалить текст от курсора до начала строки.
    *   `Ctrl+R` - Поиск в истории команд.
    *   `Tab` - Автодополнение имен файлов и команд.
    *   Стрелки вверх/вниз - Переключение по истории команд.

**7. Символические и жёсткие ссылки:**

*   **Что сделать:** Понять разницу между символическими и жёсткими ссылками и научиться их создавать.
*   **Команды:**
    *   `ln <источник> <ссылка>` - Создать жёсткую ссылку.
    *   `ln -s <источник> <ссылка>` - Создать символическую ссылку (симлинк).

*   **Различия:**
    *   **Жёсткая ссылка:** Создаёт новую запись в файловой системе, указывающую на те же данные, что и исходный файл. Нельзя создать жёсткую ссылку на каталог или на файл на другом разделе диска. При удалении исходного файла, жёсткая ссылка остаётся работоспособной.
    *   **Символическая ссылка:** Создаёт файл, содержащий путь к исходному файлу. Можно создавать на каталоги и файлы на других разделах. При удалении исходного файла, символическая ссылка становится "битой" (неработоспособной).

**8. Cron:**

*   **Что сделать:** Узнать, что такое cron, научиться его настраивать и понимать основные параметры.
*   **Описание:** Cron - это планировщик задач, позволяющий автоматически запускать команды и скрипты в заданное время или с заданным интервалом.
*   **Команды:**
    *   `crontab -e` - Редактировать crontab (файл, содержащий расписание задач).
    *   `crontab -l` - Показать содержимое crontab.
    *   `crontab -r` - Удалить crontab.

*   **Формат записи в crontab:**
    ```
    минута час день_месяца месяц день_недели команда
    ```
    *   `минута`: 0-59
    *   `час`: 0-23
    *   `день_месяца`: 1-31
    *   `месяц`: 1-12 (или названия месяцев: jan, feb, mar, apr, may, jun, jul, aug, sep, oct, nov, dec)
    *   `день_недели`: 0-6 (0 - воскресенье, 1 - понедельник, и т.д. или названия дней: sun, mon, tue, wed, thu, fri, sat)
    *   `*` - Любое значение.

*   **Примеры:**
    *   `0 0 * * * /path/to/script.sh` - Запускать скрипт каждый день в полночь.
    *   `*/5 * * * * /path/to/script.sh` - Запускать скрипт каждые 5 минут.
    *   `0 12 * * mon /path/to/script.sh` - Запускать скрипт каждый понедельник в 12:00.

**В результате:** Студент должен уверенно перемещаться по файловой системе, исследовать ее содержимое, выполнять базовые операции с файлами и каталогами, использовать команды для решения различных задач, понимать принципы перенаправления ввода/вывода, эффективно использовать горячие клавиши, создавать символические и жёсткие ссылки и автоматизировать задачи с помощью cron.




## Сети в Linux: Руководство по освоению

**Цель:** Освоить основные принципы работы с сетями в Linux, включая настройку сетевых интерфейсов, IP-адресацию, маршрутизацию, DNS, а также базовое понимание сетевой безопасности.

**1. Сетевые интерфейсы:**

*   **Что сделать:** Научиться просматривать и настраивать сетевые интерфейсы.
*   **Команды:**
    *   `ip addr` или `ip a` - Отобразить информацию о сетевых интерфейсах (IP-адреса, MAC-адреса, статус).
    *   `ip link` - Отобразить информацию о физических сетевых устройствах (интерфейсах).
    *   `ifconfig <интерфейс>` - (Устаревший, но все еще используемый) Отобразить и настроить сетевые интерфейсы.  Рекомендуется использовать `ip`.
    *   `ip link set <интерфейс> up` - Включить сетевой интерфейс.
    *   `ip link set <интерфейс> down` - Выключить сетевой интерфейс.
    *   `ip addr add <IP-адрес>/<маска> dev <интерфейс>` - Назначить IP-адрес интерфейсу.
    *   `ip addr del <IP-адрес>/<маска> dev <интерфейс>` - Удалить IP-адрес с интерфейса.

*   **Важно:**
    *   Понять разницу между физическим именем интерфейса (например, `eth0`, `wlan0`) и его логическим именем.
    *   Знать, что MAC-адрес - это уникальный идентификатор сетевого устройства.
    *   Понимать, что IP-адрес - это логический адрес устройства в сети.

**2. IP-адресация:**

*   **Что сделать:** Освоить основы IP-адресации, включая IPv4 и IPv6.
*   **Концепции:**
    *   **IPv4:**
        *   IP-адрес (32 бита, обычно записывается в десятичном виде с точками, например, 192.168.1.10).
        *   Маска подсети (определяет, какая часть IP-адреса относится к сети, а какая к хосту).
        *   Классы сетей (A, B, C) - историческая концепция, сейчас используется CIDR.
        *   CIDR (Classless Inter-Domain Routing) - более гибкий способ указания маски подсети (например, /24).
        *   Приватные и публичные IP-адреса.
        *   NAT (Network Address Translation) - преобразование приватных IP-адресов в публичные.
    *   **IPv6:**
        *   IP-адрес (128 бит, записывается в шестнадцатеричном виде, разделенном двоеточиями).
        *   Преимущества IPv6 (больше адресного пространства, упрощенная настройка).
        *   Краткая запись IPv6-адресов.

*   **Команды:**
    *   `ip addr` - Отображает IP-адреса и маски подсети.
    *   `ping <IP-адрес>` - Проверить доступность хоста по IP-адресу.

**3. Маршрутизация:**

*   **Что сделать:** Научиться просматривать и настраивать таблицу маршрутизации.
*   **Концепции:**
    *   Таблица маршрутизации - список маршрутов, которые указывают, куда отправлять трафик для достижения определенных сетей.
    *   Маршрут по умолчанию (default gateway) - IP-адрес устройства, которому отправляется трафик, если нет более конкретного маршрута.

*   **Команды:**
    *   `ip route` или `route -n` - Отобразить таблицу маршрутизации.
    *   `ip route add default via <IP-адрес_шлюза>` - Добавить маршрут по умолчанию.
    *   `ip route del default via <IP-адрес_шлюза>` - Удалить маршрут по умолчанию.
    *   `ip route add <сеть>/<маска> via <IP-адрес_шлюза>` - Добавить статический маршрут.

**4. DNS (Domain Name System):**

*   **Что сделать:** Понять, как работает DNS и как настроить разрешение имен в Linux.
*   **Концепции:**
    *   DNS - система, преобразующая доменные имена (например, google.com) в IP-адреса.
    *   DNS-серверы - серверы, хранящие информацию о соответствии доменных имен и IP-адресов.
    *   `/etc/resolv.conf` - файл, содержащий список DNS-серверов, используемых системой.

*   **Команды:**
    *   `cat /etc/resolv.conf` - Показать список DNS-серверов.
    *   `ping <доменное_имя>` - Проверить доступность хоста по доменному имени (и заодно проверить работу DNS).
    *   `nslookup <доменное_имя>` - Запросить IP-адрес для доменного имени у DNS-сервера.
    *   `dig <доменное_имя>` - Более продвинутая утилита для запроса информации у DNS-серверов.

**5. Сетевые утилиты:**

*   **Что сделать:** Освоить основные сетевые утилиты для диагностики и мониторинга.
*   **Команды:**
    *   `ping <хост>` - Проверить доступность хоста.
    *   `traceroute <хост>` или `tracepath <хост>` - Показать маршрут до хоста.
    *   `netstat <опции>` или `ss <опции>` - Отобразить информацию о сетевых соединениях, портах и статистике.  Рекомендуется использовать `ss`, т.к. `netstat` устаревает.
        *   `ss -lnt` - Показать список прослушиваемых TCP-портов.
        *   `ss -a` - Показать все соединения.
    *   `tcpdump <опции> <фильтр>` - Захват и анализ сетевого трафика.  Требует прав администратора.
        *   `tcpdump -i <интерфейс> port 80` - Захватить трафик, проходящий через порт 80 (HTTP).

**6. Файрвол (Firewall):**

*   **Что сделать:** Понять основы работы файрвола и научиться настраивать его.
*   **Концепции:**
    *   Файрвол - система, контролирующая сетевой трафик на основе заданных правил.
    *   iptables - традиционный файрвол в Linux (более сложный в настройке).
    *   firewalld - более современный и удобный файрвол (рекомендуется для начинающих).
    *   Правила файрвола (разрешающие и запрещающие трафик).
    *   Зоны (firewalld) - предопределенные наборы правил для разных типов сетей (например, public, private, trusted).

*   **Команды (firewalld):**
    *   `sudo systemctl start firewalld` - Запустить firewalld.
    *   `sudo systemctl enable firewalld` - Включить firewalld при загрузке системы.
    *   `sudo firewall-cmd --state` - Показать статус firewalld.
    *   `sudo firewall-cmd --get-default-zone` - Показать зону по умолчанию.
    *   `sudo firewall-cmd --set-default-zone=<зона>` - Установить зону по умолчанию.
    *   `sudo firewall-cmd --list-all` - Показать настройки текущей зоны.
    *   `sudo firewall-cmd --zone=<зона> --add-port=<порт>/<протокол> --permanent` - Разрешить трафик для указанного порта и протокола.
    *   `sudo firewall-cmd --reload` - Перезагрузить правила firewalld (после внесения изменений).

**7. SSH (Secure Shell):**

*   **Что сделать:** Научиться безопасно подключаться к удаленным серверам по SSH.
*   **Концепции:**
    *   SSH - протокол, позволяющий устанавливать зашифрованное соединение с удаленным сервером.
    *   Аутентификация по паролю.
    *   Аутентификация по ключам (более безопасный способ).
    *   SSH-клиент и SSH-сервер.

*   **Команды:**
    *   `ssh <пользователь>@<IP-адрес>` - Подключиться к удаленному серверу по SSH.
    *   `ssh-keygen` - Создать пару ключей SSH.
    *   `ssh-copy-id <пользователь>@<IP-адрес>` - Скопировать открытый ключ на удаленный сервер для аутентификации без пароля.

**8. Базовое понимание сетевой безопасности:**

*   **Что сделать:**  Получить общее представление о сетевой безопасности и мерах защиты.
*   **Концепции:**
    *   Важность использования надежных паролей.
    *   Регулярное обновление программного обеспечения (для исправления уязвимостей).
    *   Использование файрвола.
    *   Ограничение доступа к портам и сервисам.
    *   Использование VPN (Virtual Private Network) для защиты трафика.
    *   Мониторинг сетевой активности.




## Сети в Linux: ICMP и SSH

**Цель:** Освоить основы работы с протоколами ICMP и SSH в Linux, включая их назначение, структуру, инструменты отладки, настройку безопасности и передачу файлов.

**1. ICMP (Internet Control Message Protocol):**

*   **Что делать:** Понять назначение протокола ICMP, структуру его заголовков и научиться использовать инструменты отладки.

*   **Зачем нужен ICMP:**
    *   Использовать для диагностики сети.
    *   Передавать сообщения об ошибках и служебную информацию.
    *   Поддерживать работу протокола IP.

*   **Заголовки ICMP (IPv4):**
    *   **Type (8 бит):** Тип сообщения (например, 0 - Echo Reply, 3 - Destination Unreachable, 8 - Echo Request).
    *   **Code (8 бит):** Код, уточняющий тип сообщения (например, для Destination Unreachable указывает причину недостижимости).
    *   **Checksum (16 бит):** Контрольная сумма для проверки целостности ICMP-сообщения.
    *   **Data (переменная длина):** Зависит от типа сообщения. Для Echo Request/Reply содержит идентификатор и номер последовательности.

*   **Инструменты отладки ICMP:**
    *   **`ping <хост>`:** Отправить ICMP Echo Request и проверить доступность хоста.
        *   `-c <количество>`: Отправить указанное количество запросов.
        *   `-i <интервал>`: Задать интервал между запросами.
        *   `-t <TTL>`: Установить значение Time To Live (TTL).
    *   **`traceroute <хост>`:** Определить маршрут до хоста, отправляя ICMP Time Exceeded сообщения.
        *   `-I`: Использовать ICMP Echo Request вместо UDP (traceroute по умолчанию использует UDP).
    *   **`tcpdump -n -i <интерфейс> icmp`:** Захватить и проанализировать ICMP-трафик на указанном интерфейсе.
        *   `-n`: Не преобразовывать адреса и порты в имена.
        *   `-i <интерфейс>`: Указать сетевой интерфейс для захвата трафика.

**2. SSH (Secure Shell):**

*   **Что делать:** Узнать, что такое SSH, на каком порте он работает, как подключаться к хостам, настраивать конфигурацию и обеспечивать безопасность.

*   **Что такое SSH:**
    *   Протокол для безопасного удаленного доступа к компьютеру.
    *   Шифрует весь трафик между клиентом и сервером.
    *   Использует для удаленного управления, передачи файлов и туннелирования трафика.

*   **Порт SSH:**
    *   По умолчанию работает на порту **22**.
    *   Рекомендуется изменить порт SSH для повышения безопасности.

*   **Как подключиться к хосту по SSH:**
    *   `ssh <пользователь>@<хост>`: Подключиться к хосту, указав имя пользователя и адрес хоста.
    *   `ssh -p <порт> <пользователь>@<хост>`: Подключиться к хосту, указав нестандартный порт.
    *   `ssh -i <ключ> <пользователь>@<хост>`: Подключиться к хосту, используя приватный ключ.

*   **Настройка `ssh_config` (клиентская конфигурация):**
    *   Файл `~/.ssh/config` позволяет задавать параметры подключения для разных хостов.
    *   Преимущества:
        *   Не нужно каждый раз вводить имя пользователя, порт и другие параметры.
        *   Упрощает подключение к часто используемым хостам.
    *   Пример конфигурации:

        ```
        Host my-server
            HostName example.com
            User myuser
            Port 2222
            IdentityFile ~/.ssh/id_rsa
        ```

        Теперь можно подключаться к серверу просто командой `ssh my-server`.

*   **Jump Host (ProxyJump):**
    *   Использовать для подключения к хосту, который находится за файрволом или не имеет прямого доступа извне.
    *   SSH-клиент сначала подключается к Jump Host, а затем Jump Host устанавливает соединение с целевым хостом.
    *   Пример конфигурации в `~/.ssh/config`:

        ```
        Host target-server
            HostName target.internal
            User myuser
            ProxyJump jump-host

        Host jump-host
            HostName jump.example.com
            User jumpuser
        ```

        Теперь можно подключаться к целевому серверу командой `ssh target-server`.

*   **Настройки безопасности для SSH-сервера (`/etc/ssh/sshd_config`):**
    *   **`Port <номер порта>`:** Изменить порт SSH (по умолчанию 22).
    *   **`PermitRootLogin no`:** Запретить вход под пользователем root.
    *   **`AllowUsers <список пользователей>`:** Разрешить вход только указанным пользователям.
    *   **`PasswordAuthentication no`:** Запретить аутентификацию по паролю (рекомендуется использовать аутентификацию по ключам).
    *   **`PubkeyAuthentication yes`:** Разрешить аутентификацию по ключам.
    *   **`PermitEmptyPasswords no`:** Запретить вход с пустыми паролями.
    *   **`MaxAuthTries <количество попыток>`:** Ограничить количество попыток аутентификации.
    *   **`ClientAliveInterval <секунды>` и `ClientAliveCountMax <количество попыток>`:** Отключать неактивные соединения.
    *   **`UseDNS no`:** Отключить обратный DNS-lookup для ускорения подключения.

        После изменения `/etc/ssh/sshd_config` нужно перезапустить SSH-сервер: `sudo systemctl restart sshd`.

*   **Передача файлов по SSH:**
    *   **`scp <файл> <пользователь>@<хост>:<путь>`:** Скопировать файл на удаленный хост.
        *   `-r`: Скопировать каталог рекурсивно.
        *   `-P <порт>`: Указать нестандартный порт.
    *   **`scp <пользователь>@<хост>:<файл> <путь>`:** Скопировать файл с удаленного хоста.
    *   **`sftp <пользователь>@<хост>`:** Интерактивная сессия SFTP (Secure FTP) для управления файлами на удаленном хосте.
    *   **`rsync -avz <источник> <пользователь>@<хост>:<путь>`:** Синхронизировать файлы и каталоги с удаленным хостом (более эффективен, чем scp, особенно для больших файлов).

**В результате:** Студент должен понимать назначение протоколов ICMP и SSH, уметь использовать их для диагностики сети, удаленного доступа и передачи файлов, а также настраивать SSH для обеспечения безопасности.

